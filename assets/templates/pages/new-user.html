<!-- New User Page Template - New Account Page -->
<section class="hidden" id="newUserCard">
  <div class="new-page">
    <!-- Left: brand panel -->
    <aside class="new-sidebar">
      <div class="new-sidebar-content">
        <div class="new-brand">
          <div class="new-brand-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
          </div>
          <h1 class="new-brand-title" data-i18n="new.title">Create Account</h1>
          <p class="new-brand-desc" data-i18n="new.description">
            Securely generate P-256 ECDSA key pair to start your blockchain journey
          </p>
        </div>

        <div class="new-benefits">
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit1.title">Secure Key Generation</h4>
              <p data-i18n="new.benefit1.desc">Using P-256 elliptic curve algorithm</p>
            </div>
          </div>
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit2.title">Local Storage</h4>
              <p data-i18n="new.benefit2.desc">Private keys stored only in your browser</p>
            </div>
          </div>
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit3.title">Quick Add</h4>
              <p data-i18n="new.benefit3.desc">Add to wallet list immediately after generation</p>
            </div>
          </div>
        </div>

        <div class="new-sidebar-footer">
          <div class="new-stats">
            <div class="new-stat">
              <span class="new-stat-value">P-256</span>
              <span class="new-stat-label" data-i18n="new.ellipticCurve">Elliptic Curve</span>
            </div>
            <div class="new-stat">
              <span class="new-stat-value">ECDSA</span>
              <span class="new-stat-label" data-i18n="new.signatureAlgo">Signature</span>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Right: main content -->
    <main class="new-main">
      <button class="new-back-btn" id="newBackBtn" title="Back" data-i18n-title="common.back">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7" />
        </svg>
      </button>

      <div class="new-main-content">
        <div class="new-header">
          <h2 class="new-header-title" data-i18n="new.generateKeys">Generate Keys</h2>
          <p class="new-header-desc" data-i18n="new.generateKeysDesc">
            The system will generate secure key pairs. Please keep your private key safe.
          </p>
        </div>

        <div id="newLoader" class="new-loader hidden">
          <div class="new-loader-logo">
            <img src="/logo.png" alt="Loading" class="loader-logo-img" width="56" height="56" />
            <div class="loader-logo-glow"></div>
          </div>
          <div class="new-loader-text">
            <span data-i18n="new.generating">Generating Keys</span>
            <span class="new-loader-dots"><i></i><i></i><i></i></span>
          </div>
        </div>

        <div id="result" class="new-result hidden">
          <div class="new-result-success" style="display: none;">
            <div class="new-success-check">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <polyline points="20 6 9 17 4 12" />
              </svg>
            </div>
            <h3 data-i18n="new.accountCreated">Account Created</h3>
          </div>

          <div class="new-result-cards">
            <div class="new-info-card">
              <div class="new-info-label">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>
                <span>Account ID</span>
              </div>
              <div class="result-val">
                <code id="accountId" class="new-info-value"></code>
                <button class="copy-btn" data-copy="accountId" title="Copy" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>

            <div class="new-info-card">
              <div class="new-info-label">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                  <circle cx="12" cy="10" r="3" />
                </svg>
                <span data-i18n="new.mainAddress">Main Address</span>
              </div>
              <div class="result-val">
                <code id="address" class="new-info-value"></code>
                <button class="copy-btn" data-copy="address" title="Copy" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <div class="new-keys-section">
            <div class="new-key-card new-key-card--private new-key-card--collapsed" id="privateKeyItem">
              <div class="new-key-header" id="privateKeyToggle">
                <div class="new-key-label">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
                  </svg>
                  <span data-i18n="new.privateKey">Private Key (Hex)</span>
                  <span class="new-warning-badge" data-i18n="new.doNotShare">Do Not Share</span>
                </div>
                <svg class="new-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9" />
                </svg>
              </div>
              <div class="new-key-content">
                <div class="new-key-content-inner">
                  <div class="result-val">
                    <code id="privHex" class="new-key-value"></code>
                    <button class="copy-btn" data-copy="privHex" title="Copy" data-i18n-title="common.clickToCopy">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="width: 16px; height: 16px; min-width: 16px;">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="new-key-card new-key-card--public">
              <div class="new-key-header">
                <div class="new-key-label">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                    <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                  </svg>
                  <span data-i18n="new.publicKey">Public Key (X / Y Hex)</span>
                </div>
              </div>
              <div class="result-val">
                <code id="pubX" class="new-key-value"></code>
                <button class="copy-btn" data-copy="pubX" title="Copy" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
              <div class="result-val" style="margin-top: 8px;">
                <code id="pubY" class="new-key-value"></code>
                <button class="copy-btn" data-copy="pubY" title="Copy" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="newKeyTip" class="new-result-tip hidden">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M12 12v4" />
            <path d="M12 8h.01" />
          </svg>
          <span data-i18n="new.keyTip">Please keep your private key safe. Lost keys cannot be recovered.</span>
        </div>

        <div class="new-page-actions">
          <button id="newNextBtn" class="new-action-btn new-action-btn--primary hidden">
            <span data-i18n="new.nextStep">Next: Set Password</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="5" y1="12" x2="19" y2="12" />
              <polyline points="12 5 19 12 12 19" />
            </svg>
          </button>
        </div>
      </div>
    </main>
  </div>
</section>