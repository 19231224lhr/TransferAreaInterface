<!-- New User Page Template - 新建钱包页面 -->
<section class="hidden" id="newUserCard">
  <div class="new-page">
    <!-- 左侧：品牌展示区 -->
    <aside class="new-sidebar">
      <div class="new-sidebar-content">
        <!-- Logo 区域 -->
        <div class="new-brand">
          <div class="new-brand-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
          </div>
          <h1 class="new-brand-title" data-i18n="new.title">创建新账户</h1>
          <p class="new-brand-desc" data-i18n="new.description">安全生成 P-256 ECDSA 密钥对，开启您的区块链之旅</p>
        </div>

        <!-- 特性列表 -->
        <div class="new-benefits">
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit1.title">安全密钥生成</h4>
              <p data-i18n="new.benefit1.desc">采用 P-256 椭圆曲线算法生成密钥对</p>
            </div>
          </div>
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit2.title">本地加密存储</h4>
              <p data-i18n="new.benefit2.desc">私钥仅存储在本地浏览器中</p>
            </div>
          </div>
          <div class="new-benefit">
            <div class="new-benefit-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12" />
              </svg>
            </div>
            <div class="new-benefit-text">
              <h4 data-i18n="new.benefit3.title">一键添加钱包</h4>
              <p data-i18n="new.benefit3.desc">生成后可直接添加到钱包列表</p>
            </div>
          </div>
        </div>

        <!-- 底部统计 -->
        <div class="new-sidebar-footer">
          <div class="new-stats">
            <div class="new-stat">
              <span class="new-stat-value">P-256</span>
              <span class="new-stat-label" data-i18n="new.ellipticCurve">椭圆曲线</span>
            </div>
            <div class="new-stat">
              <span class="new-stat-value">ECDSA</span>
              <span class="new-stat-label" data-i18n="new.signatureAlgo">签名算法</span>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- 右侧：主操作区 -->
    <main class="new-main">
      <!-- 返回按钮 -->
      <button class="new-back-btn" id="newBackBtn" title="返回" data-i18n-title="common.back">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7" />
        </svg>
      </button>

      <div class="new-main-content">
        <!-- 页面标题 -->
        <div class="new-header">
          <h2 class="new-header-title" data-i18n="new.generateKeys">生成密钥对</h2>
          <p class="new-header-desc" data-i18n="new.generateKeysDesc">系统将自动生成安全的密钥对，请妥善保管您的私钥</p>
        </div>

        <!-- 加载动画 -->
        <div id="newLoader" class="new-loader hidden">
          <div class="new-loader-logo">
            <img src="/logo.png" alt="Loading" class="loader-logo-img" width="56" height="56" />
            <div class="loader-logo-glow"></div>
          </div>
          <div class="new-loader-text">
            <span data-i18n="new.generating">正在生成密钥</span>
            <span class="new-loader-dots"><i></i><i></i><i></i></span>
          </div>
        </div>

        <!-- 结果展示区 - 密钥信息 -->
        <div id="result" class="new-result hidden">
          <!-- 成功标识 (初始隐藏，设置密码后显示) -->
          <div class="new-result-success" style="display: none;">
            <div class="new-success-check">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <polyline points="20 6 9 17 4 12" />
              </svg>
            </div>
            <h3 data-i18n="new.accountCreated">账户创建成功</h3>
          </div>

          <!-- 信息网格 -->
          <div class="new-result-cards">
            <div class="new-info-card">
              <div class="new-info-label">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>
                <span>Account ID</span>
              </div>
              <div class="result-val">
                <code id="accountId" class="new-info-value"></code>
                <button class="copy-btn" data-copy="accountId" title="复制" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>

            <div class="new-info-card">
              <div class="new-info-label">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                  <circle cx="12" cy="10" r="3" />
                </svg>
                <span data-i18n="new.mainAddress">主地址</span>
              </div>
              <div class="result-val">
                <code id="address" class="new-info-value"></code>
                <button class="copy-btn" data-copy="address" title="复制" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 密钥区域 -->
          <div class="new-keys-section">
            <div class="new-key-card new-key-card--private new-key-card--collapsed" id="privateKeyItem">
              <div class="new-key-header" id="privateKeyToggle">
                <div class="new-key-label">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
                  </svg>
                  <span data-i18n="new.privateKey">私钥（Hex）</span>
                  <span class="new-warning-badge" data-i18n="new.doNotShare">请勿泄露</span>
                </div>
                <svg class="new-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9" />
                </svg>
              </div>
              <div class="result-val">
                <code id="privHex" class="new-key-value"></code>
                <button class="copy-btn" data-copy="privHex" title="复制" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>

            <div class="new-key-card new-key-card--public">
              <div class="new-key-header">
                <div class="new-key-label">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                    <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                  </svg>
                  <span data-i18n="new.publicKey">公钥（X / Y Hex）</span>
                </div>
              </div>
              <div class="result-val">
                <code id="pubX" class="new-key-value"></code>
                <button class="copy-btn" data-copy="pubX" title="复制" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
              <div class="result-val" style="margin-top: 8px;">
                <code id="pubY" class="new-key-value"></code>
                <button class="copy-btn" data-copy="pubY" title="复制" data-i18n-title="common.clickToCopy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="width: 16px; height: 16px; min-width: 16px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 提示信息 -->
        <div id="newKeyTip" class="new-result-tip hidden">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M12 12v4" />
            <path d="M12 8h.01" />
          </svg>
          <span data-i18n="new.keyTip">请务必妥善保管您的私钥，私钥丢失将无法恢复账户</span>
        </div>

        <!-- 操作按钮 -->
        <div class="new-page-actions">
          <button id="newNextBtn" class="new-action-btn new-action-btn--primary hidden">
            <span data-i18n="new.nextStep">下一步：设置密码</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="5" y1="12" x2="19" y2="12" />
              <polyline points="12 5 19 12 12 19" />
            </svg>
          </button>
        </div>
      </div>
    </main>
  </div>
</section>