# å¿«é€Ÿè½¬è´¦åŠŸèƒ½å¯¹æ¥ä¿®å¤è®°å½•

**æ—¶é—´**: 2025å¹´12æœˆ27æ—¥  
**æ¨¡å—**: å‰åç«¯å¿«é€Ÿè½¬è´¦äº¤æ˜“å¯¹æ¥  
**çŠ¶æ€**: âœ… åˆæ­¥è·‘é€š

---

## ç°æœ‰é—®é¢˜

### 1. äº¤æ˜“éªŒè¯å¤±è´¥

å‰ç«¯æ„é€ çš„äº¤æ˜“æ— æ³•é€šè¿‡ GuarNode éªŒè¯ï¼Œè¡¨ç°ä¸ºä»¥ä¸‹é”™è¯¯åºåˆ—ï¼š

#### é”™è¯¯ 1: ä½™é¢ä¸è¶³
- **é”™è¯¯ä¿¡æ¯**: `insufficient transfer amount`
- **åŸå› **: å‰ç«¯é’±åŒ…ä½™é¢ç¼“å­˜æœªä¸åç«¯åŒæ­¥
- **å½±å“**: ç”¨æˆ·æ— æ³•å‘èµ·äº¤æ˜“

#### é”™è¯¯ 2: UTXO æœªæ‰¾åˆ°
- **é”™è¯¯ä¿¡æ¯**: `the utxo for input was not found`
- **åŸå› **: UTXO æ ‡è¯†ç¬¦æ ¼å¼ä¸åŒ¹é…
  - åç«¯å­˜å‚¨æ ¼å¼: `"TXID + IndexZ"` (å¸¦ç©ºæ ¼)
  - å‰ç«¯æ„é€ æ ¼å¼: `"txid:index"` æˆ– `"txid_index"`
- **å½±å“**: GuarNode æ— æ³•æ ¹æ®å‰ç«¯æä¾›çš„ UTXO æ ‡è¯†ç¬¦æ‰¾åˆ°å¯¹åº”çš„ UTXO

#### é”™è¯¯ 3: Position æ•°æ®ä¸ä¸€è‡´
- **é”™è¯¯ä¿¡æ¯**: `address information is inconsistent`
- **åŸå› **: Position æ•°æ®å…¨ä¸º 0
  - åç«¯å­˜å‚¨: `{Blocknum:1, IndexX:0, IndexY:1, IndexZ:0}`
  - å‰ç«¯å‘é€: `{Blocknum:0, IndexX:0, IndexY:0, IndexZ:0}`
- **å½±å“**: GuarNode çš„ UTXO æŸ¥æ‰¾é€»è¾‘ä¾èµ– Position ä¿¡æ¯ï¼Œæ•°æ®ä¸åŒ¹é…å¯¼è‡´æŸ¥æ‰¾å¤±è´¥

#### é”™è¯¯ 4: ç­¾åéªŒè¯å¤±è´¥
- **é”™è¯¯ä¿¡æ¯**: `input and output signature validation errors`
- **åŸå› **:
  1. **å¤§æ•´æ•°ç²¾åº¦ä¸¢å¤±**: `response.json()` è§£æ JSON æ—¶ï¼Œå…¬é’¥åæ ‡ X/Y (256ä½å¤§æ•´æ•°) ä¸¢å¤±ç²¾åº¦
  2. **TXOutput æ•°æ®ä¸å®Œæ•´**: `accountQuery.ts` ä¸­æ‰‹åŠ¨æ„é€ ç®€åŒ–çš„ `TXOutputs`ï¼Œä¸¢å¤±äº†åç«¯å­˜å‚¨çš„å®Œæ•´å­—æ®µ
  3. **å“ˆå¸Œä¸åŒ¹é…**: å‰ç«¯è®¡ç®—çš„ TXOutput å“ˆå¸Œä¸åç«¯å­˜å‚¨çš„ä¸ä¸€è‡´
- **å½±å“**: ECDSA ç­¾åéªŒè¯å¤±è´¥ï¼Œäº¤æ˜“è¢«æ‹’ç»

### 2. ä»£ç æ¶æ„é—®é¢˜

#### UTXO æ•°æ®è½¬æ¢ä¸å®Œæ•´
- **é—®é¢˜**: `convertToStorageUTXO` å‡½æ•°é‡æ–°æ„é€  UTXO æ•°æ®ï¼Œè€Œä¸æ˜¯ä½¿ç”¨åç«¯è¿”å›çš„åŸå§‹æ•°æ®
- **å½±å“**: ä¸¢å¤±å…³é”®å­—æ®µï¼ˆå¦‚å®Œæ•´çš„ PublicKeyã€TXOutput è¯¦æƒ…ï¼‰

#### JSON è§£ææœªå¤„ç†å¤§æ•´æ•°
- **é—®é¢˜**: ä½¿ç”¨åŸç”Ÿ `response.json()` è§£æåç«¯å“åº”
- **å½±å“**: å…¬é’¥åæ ‡ç­‰å¤§æ•´æ•°è¢«è½¬æ¢ä¸º JavaScript Numberï¼Œè¶…è¿‡ `Number.MAX_SAFE_INTEGER` æ—¶ä¸¢å¤±ç²¾åº¦

---

## ä¿®å¤æ–¹æ¡ˆ

### 1. UTXO æ ‡è¯†ç¬¦æ ¼å¼ç»Ÿä¸€

**æ–‡ä»¶**: `js/services/txBuilder.ts`

#### ä¿®æ”¹å‰
```typescript
// æ„é€  UTXO æ ‡è¯†ç¬¦ä¸º "txid:index" æˆ–å…¶ä»–æ ¼å¼
const utxoIdentifier = `${txid}:${indexZ}`;
```

#### ä¿®æ”¹å
```typescript
// âœ… ä½¿ç”¨åç«¯å®é™…å­˜å‚¨æ ¼å¼: "TXID + IndexZ" (æ³¨æ„ç©ºæ ¼)
const utxoIdentifier = `${fromTXID} + ${effectiveIndexZ}`;
console.log(`[äº¤æ˜“æ„é€ ] å°†ç”Ÿæˆ UTXO æ ‡è¯†ç¬¦: "${utxoIdentifier}"`);
```

**ä½ç½®**: Lines 956-958

---

### 2. Position æ•°æ®æ­£ç¡®è§£æ

**æ–‡ä»¶**: `js/services/accountQuery.ts`

#### ä¿®æ”¹å‰
```typescript
// ä» key è§£æ Positionï¼ˆä¸å®Œæ•´ï¼‰
const position = { Blocknum: 0, IndexX: 0, IndexY: 0, IndexZ: indexZFromKey };
```

#### ä¿®æ”¹å
```typescript
// âœ… ä½¿ç”¨åç«¯è¿”å›çš„å®Œæ•´ Position æ•°æ®
const position: { Blocknum: number; IndexX: number; IndexY: number; IndexZ: number } = queryUtxo.Position 
  ? {
      Blocknum: queryUtxo.Position.Blocknum || 0,
      IndexX: queryUtxo.Position.IndexX || 0,
      IndexY: queryUtxo.Position.IndexY || 0,
      IndexZ: queryUtxo.Position.IndexZ ?? indexZFromKey
    }
  : { Blocknum: 0, IndexX: 0, IndexY: 0, IndexZ: indexZFromKey };

console.log(`[UTXOè§£æ] key="${utxoKey}" => txid="${txid}", Position=${JSON.stringify(position)}`);
```

**ä½ç½®**: Lines 188-201

---

### 3. ä½¿ç”¨å®Œæ•´çš„ UTXO æ•°æ®

**æ–‡ä»¶**: `js/services/accountQuery.ts` - `convertToStorageUTXO` å‡½æ•°

#### ä¿®æ”¹å‰
```typescript
// æ‰‹åŠ¨æ„é€ ç®€åŒ–çš„ TXOutputs
return {
  UTXO: {
    TXID: txid,
    TXType: 0,
    TXInputsNormal: [],
    TXInputsCertificate: [],
    TXOutputs: [{
      ToAddress: address,
      ToValue: queryUtxo.Value,
      ToGuarGroupID: '',
      ToPublicKey: { Curve: 'P256' },  // âš ï¸ åªæœ‰ Curveï¼Œç¼ºå°‘ X, Y
      ToInterest: 0,
      Type: queryUtxo.Type,
      IsCrossChain: false,
      IsGuarMake: false
    }],
    // ...
  }
};
```

#### ä¿®æ”¹å
```typescript
// âœ… å¦‚æœåç«¯è¿”å›äº†å®Œæ•´ UTXO æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨
if (queryUtxo.UTXO && typeof queryUtxo.UTXO === 'object') {
  const backendUTXO = queryUtxo.UTXO;
  console.log(`[UTXOè§£æ] âœ“ ä½¿ç”¨åç«¯è¿”å›çš„å®Œæ•´ UTXO æ•°æ®`);
  
  return {
    UTXO: {
      TXID: txid,
      TXType: backendUTXO.TXType || 0,
      TXInputsNormal: backendUTXO.TXInputsNormal || [],
      TXInputsCertificate: backendUTXO.TXInputsCertificate || [],
      // âš ï¸ å…³é”®ï¼šä½¿ç”¨åç«¯åŸå§‹çš„ TXOutputsï¼ŒåŒ…å«å®Œæ•´çš„ ToPublicKey.X/Y
      TXOutputs: backendUTXO.TXOutputs || [],
      InterestAssign: backendUTXO.InterestAssign || { Gas: 0, Output: 0, BackAssign: {} },
      ExTXCerID: backendUTXO.ExTXCerID || [],
      Data: backendUTXO.Data || []
    },
    TXID: txid,
    Value: queryUtxo.Value,
    Type: queryUtxo.Type,
    Time: queryUtxo.Time || Date.now(),
    Position: position,
    IsTXCerUTXO: queryUtxo.IsTXCerUTXO || false
  };
}
```

**ä½ç½®**: Lines 207-231

---

### 4. ä¿ç•™å¤§æ•´æ•°ç²¾åº¦

**æ–‡ä»¶**: `js/services/accountQuery.ts` - `queryAddressBalances` å‡½æ•°

#### ä¿®æ”¹å‰
```typescript
// âš ï¸ ç›´æ¥ä½¿ç”¨ response.json()ï¼Œå¤§æ•´æ•°ç²¾åº¦ä¸¢å¤±
const data = await response.json() as QueryAddressResponse;
```

#### ä¿®æ”¹å
```typescript
// âœ… ä½¿ç”¨ parseBigIntJson ä¿ç•™å¤§æ•´æ•°ä¸ºå­—ç¬¦ä¸²
// å› ä¸ºåç«¯è¿”å›çš„ TXOutput.ToPublicKey.X/Y æ˜¯ *big.Intï¼ˆ256ä½ï¼‰
// JavaScript Number æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œå¿…é¡»å…ˆè½¬ä¸ºå­—ç¬¦ä¸²
const responseText = await response.text();
const data = parseBigIntJson(responseText) as QueryAddressResponse;
```

**ä½ç½®**: Lines 351-357

**parseBigIntJson å®ç°**:
```typescript
function parseBigIntJson(jsonText: string): unknown {
  // å°†è¶…è¿‡ 15 ä½çš„å¤§æ•´æ•°è½¬æ¢ä¸ºå¸¦å¼•å·çš„å­—ç¬¦ä¸²
  // ä¾‹å¦‚: "X": 12345678901234567890 â†’ "X": "12345678901234567890"
  const processed = jsonText.replace(
    /:\s*(\d{16,})\s*([,}\]])/g,
    ': "$1"$2'
  );
  return JSON.parse(processed);
}
```

**ä½ç½®**: Lines 640-650

---

### 5. æ·»åŠ è°ƒè¯•æ—¥å¿—

#### å‰ç«¯è°ƒè¯•æ—¥å¿—
**æ–‡ä»¶**: `js/services/txBuilder.ts` - `signTXOutput` å‡½æ•°

```typescript
export function signTXOutput(
  output: TXOutput,
  addressPrivateKeyHex: string
): { hash: number[]; signature: EcdsaSignature } {
  // [DEBUG] æ‰“å°ç”¨äºå“ˆå¸Œçš„ TXOutput
  const jsonForHash = serializeToJSON(output);
  console.log('[signTXOutput] ========== TXOutput ç­¾åè¯¦æƒ… ==========');
  console.log('[signTXOutput] TXOutput JSON é•¿åº¦:', jsonForHash.length);
  console.log('[signTXOutput] TXOutput JSON:', jsonForHash);
  
  const hash = getTXOutputHash(output);
  
  const hashHex = hash.map(b => b.toString(16).padStart(2, '0')).join('');
  const hashBase64 = btoa(String.fromCharCode(...hash));
  console.log('[signTXOutput] TXOutput Hash (hex):', hashHex);
  console.log('[signTXOutput] TXOutput Hash (base64):', hashBase64);
  console.log('[signTXOutput] ========================================');
  
  // ...
}
```

**ä½ç½®**: Lines 420-442

#### åç«¯è°ƒè¯•æ—¥å¿—
**æ–‡ä»¶**: `Guarantor/GuarNode/guarantor.go` - `VerifyUTXOSig` å‡½æ•°

```go
func (g *GuarantorNode) VerifyUTXOSig(input core.TXInputNormal, output core.TXOutput) (result bool, err error) {
	// ...
	
	// [DEBUG] æ‰“å°ç­¾åéªŒè¯è¯¦æƒ…
	fmt.Println(core.BLUE + "[VerifyUTXOSig] ========== UTXO ç­¾åéªŒè¯è¯¦æƒ… ==========" + core.RESET)
	fmt.Printf("[VerifyUTXOSig] åç«¯è®¡ç®—çš„ TXOutput Hash (hex): %x\n", hash)
	fmt.Printf("[VerifyUTXOSig] åç«¯è®¡ç®—çš„ Hash (base64): %s\n", base64.StdEncoding.EncodeToString(hash))
	
	outputJSON, _ := json.Marshal(output)
	fmt.Printf("[VerifyUTXOSig] åç«¯å­˜å‚¨çš„ TXOutput: %s\n", string(outputJSON))
	
	fmt.Printf("[VerifyUTXOSig] ç­¾åä½¿ç”¨çš„å…¬é’¥: CurveName=%s, X=%s..., Y=%s...\n",
		pubkey.CurveName,
		pubkey.X.Text(16)[:16],
		pubkey.Y.Text(16)[:16])
	fmt.Println(core.BLUE + "[VerifyUTXOSig] ========================================" + core.RESET)
	
	// ...
}
```

**ä½ç½®**: Lines 735-752

---

## ä¿®å¤æ•ˆæœ

### 1. äº¤æ˜“éªŒè¯æˆåŠŸ

#### æµ‹è¯•æ—¥å¿—
```
[SIGDBG][GuarNode] recv AssiTXMsg group=10000000 guar=90653326 user=27622078
Signature verification successful
[GuarNode] æŸ¥æ‰¾ UTXO: identify="f78854637d183c84 + 0", FromTXID="f78854637d183c84", IndexZ=0
TX Verify Success and get GTX from user ID: 27622078
user 27622078 received a new txcer ec1cd75a7d7030ba value is 90.00
```

âœ… **æ‰€æœ‰éªŒè¯æ­¥éª¤é€šè¿‡**:
- UserNewTX ç­¾åéªŒè¯ âœ“
- TXInput ç­¾åéªŒè¯ (VerifyUTXOSig) âœ“
- UTXO æŸ¥æ‰¾ âœ“
- äº¤æ˜“é‡‘é¢éªŒè¯ âœ“
- TXCer ç”Ÿæˆ âœ“

### 2. æ•°æ®ä¸€è‡´æ€§ä¿è¯

#### Position æ•°æ®å¯¹æ¯”
| é˜¶æ®µ | Blocknum | IndexX | IndexY | IndexZ |
|------|----------|--------|--------|--------|
| ä¿®å¤å‰ | 0 | 0 | 0 | 0 |
| ä¿®å¤å | 1 | 0 | 1 | 0 |
| åç«¯å­˜å‚¨ | 1 | 0 | 1 | 0 |

âœ… **å®Œå…¨ä¸€è‡´**

#### TXOutput å“ˆå¸Œå¯¹æ¯”
```
å‰ç«¯: [signTXOutput] TXOutput Hash (hex): a1b2c3d4...
åç«¯: [VerifyUTXOSig] TXOutput Hash (hex): a1b2c3d4...
```

âœ… **å“ˆå¸Œå€¼åŒ¹é…ï¼Œç­¾åéªŒè¯é€šè¿‡**

### 3. ä»£ç è´¨é‡æå‡

#### æ•°æ®å®Œæ•´æ€§
- âœ… ä½¿ç”¨åç«¯è¿”å›çš„åŸå§‹ UTXO æ•°æ®ï¼Œé¿å…æ•°æ®ä¸¢å¤±
- âœ… ä¿ç•™å¤§æ•´æ•°ç²¾åº¦ï¼Œç¡®ä¿å…¬é’¥åæ ‡æ­£ç¡®

#### å¯ç»´æŠ¤æ€§
- âœ… æ·»åŠ è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—ï¼Œæ–¹ä¾¿é—®é¢˜å®šä½
- âœ… æ˜ç¡®æ ‡æ³¨å…³é”®ä¿®å¤ç‚¹å’Œæ³¨æ„äº‹é¡¹

#### å¥å£®æ€§
- âœ… æ”¯æŒå¤šç§ UTXO key æ ¼å¼å…¼å®¹ï¼ˆåç«¯æ ¼å¼ä¼˜å…ˆï¼‰
- âœ… Position æ•°æ®æœ‰ fallback æœºåˆ¶
- âœ… å¤§æ•´æ•°è§£æå¤±è´¥æ—¶æœ‰è­¦å‘Šæç¤º

---

## å®Œæ•´äº¤æ˜“æµç¨‹

```
ç”¨æˆ·å‘èµ·è½¬è´¦
    â†“
å‰ç«¯: æ„é€  Transaction (txBuilder.ts)
    â†“
å‰ç«¯: ä»é’±åŒ…è·å– UTXO æ•°æ® (accountQuery.ts)
    â”œâ”€ ä½¿ç”¨ parseBigIntJson è§£æå“åº”
    â”œâ”€ ä¿ç•™åç«¯è¿”å›çš„å®Œæ•´ SubATX
    â””â”€ ä½¿ç”¨åç«¯è¿”å›çš„ Position æ•°æ®
    â†“
å‰ç«¯: ç­¾å TXOutput (ä½¿ç”¨åœ°å€ç§é’¥)
    â”œâ”€ ä½¿ç”¨åç«¯åŸå§‹ TXOutputï¼ˆåŒ…å«å®Œæ•´ PublicKey.X/Yï¼‰
    â”œâ”€ JSON åºåˆ—åŒ–ï¼ˆX/Y è½¬ä¸º JSON numberï¼‰
    â””â”€ SHA256 å“ˆå¸Œ
    â†“
å‰ç«¯: ç­¾å UserNewTX (ä½¿ç”¨è´¦æˆ·ç§é’¥)
    â†“
å‰ç«¯: å‘é€åˆ° GuarNode
    â”œâ”€ UTXO æ ‡è¯†ç¬¦: "TXID + IndexZ" (å¸¦ç©ºæ ¼)
    â””â”€ TXInput.TXOutputHash: å‰ç«¯è®¡ç®—çš„å“ˆå¸Œå€¼
    â†“
GuarNode: éªŒè¯ UserNewTX ç­¾å âœ“
    â†“
GuarNode: æŸ¥æ‰¾ UTXO
    â”œâ”€ ä½¿ç”¨ "TXID + IndexZ" æ ¼å¼
    â”œâ”€ ä½¿ç”¨ Position æ•°æ®å®šä½
    â””â”€ æ‰¾åˆ°å¯¹åº”çš„ TXOutput
    â†“
GuarNode: éªŒè¯ TXInput ç­¾å (VerifyUTXOSig)
    â”œâ”€ è®¡ç®—å­˜å‚¨çš„ TXOutput å“ˆå¸Œ
    â”œâ”€ ä¸å‰ç«¯å‘é€çš„å“ˆå¸Œå¯¹æ¯”
    â”œâ”€ ä½¿ç”¨ ToPublicKey éªŒè¯ç­¾å
    â””â”€ éªŒè¯æˆåŠŸ âœ“
    â†“
GuarNode: éªŒè¯ä½™é¢å’Œåˆ©æ¯ âœ“
    â†“
GuarNode: ç”Ÿæˆ TXCer âœ“
    â†“
å‘é€è´¦æˆ·æ›´æ–°æ¶ˆæ¯ âœ“
    â†“
äº¤æ˜“å®Œæˆ ğŸ‰
```

---

## ä¿®å¤æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ | è¡Œæ•° |
|------|----------|------|
| `js/services/txBuilder.ts` | UTXO æ ‡è¯†ç¬¦æ ¼å¼ç»Ÿä¸€ | 956-958 |
| `js/services/txBuilder.ts` | æ·»åŠ  TXOutput ç­¾åè°ƒè¯•æ—¥å¿— | 420-442 |
| `js/services/accountQuery.ts` | Position æ•°æ®æ­£ç¡®è§£æ | 188-201 |
| `js/services/accountQuery.ts` | ä½¿ç”¨å®Œæ•´ UTXO æ•°æ® | 207-231 |
| `js/services/accountQuery.ts` | ä½¿ç”¨ parseBigIntJson è§£æå“åº” | 351-357 |
| `Guarantor/GuarNode/guarantor.go` | æ·»åŠ ç­¾åéªŒè¯è°ƒè¯•æ—¥å¿— | 735-752 |

---

## æŠ€æœ¯è¦ç‚¹

### 1. JavaScript å¤§æ•´æ•°å¤„ç†

**é—®é¢˜**: å…¬é’¥åæ ‡ X/Y æ˜¯ 256 ä½æ•´æ•°ï¼ˆ77 ä½åè¿›åˆ¶ï¼‰ï¼Œè¶…è¿‡ JavaScript Number ç²¾åº¦ï¼ˆ53 ä½ï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°† JSON ä¸­çš„å¤§æ•´æ•°è½¬ä¸ºå­—ç¬¦ä¸²
2. å‰ç«¯ç­¾åæ—¶å°†å­—ç¬¦ä¸²è½¬å› JSON numberï¼ˆä¸å¸¦å¼•å·ï¼‰
3. ç¡®ä¿ JSON å­—ç¬¦ä¸²ä¸­çš„æ•°å­—å®Œæ•´ä¿ç•™

```typescript
// parseBigIntJson: å°†å¤§æ•´æ•°è½¬ä¸ºå­—ç¬¦ä¸²
jsonText.replace(/:\s*(\d{16,})\s*([,}\]])/g, ': "$1"$2');

// serializeToJSON: å°† X/Y å­—ç¬¦ä¸²è½¬å› JSON number
json.replace(/"(X|Y|R|S)":"(\d+)"/g, '"$1":$2');
```

### 2. UTXO æ ‡è¯†ç¬¦æ ¼å¼

**åç«¯å­˜å‚¨æ ¼å¼**: `map[string]UTXOData`ï¼Œkey ä¸º `"TXID + IndexZ"`

**ç¤ºä¾‹**:
```
"f78854637d183c84 + 0" â†’ UTXOData{...}
```

**å…³é”®**: 
- ä½¿ç”¨ `+` ç¬¦å·ï¼Œå‰åå„æœ‰ä¸€ä¸ªç©ºæ ¼
- TXID æ˜¯ 8 å­—èŠ‚å“ˆå¸Œçš„åå…­è¿›åˆ¶ï¼ˆ16 ä¸ªå­—ç¬¦ï¼‰
- IndexZ æ˜¯ TXOutput æ•°ç»„çš„ç´¢å¼•

### 3. Position æ•°æ®ç»“æ„

```go
// Go ç»“æ„ä½“
type TxPosition struct {
    Blocknum int // åŒºå—é«˜åº¦
    IndexX   int // åŒºå—å†…èšåˆäº¤æ˜“ç´¢å¼•
    IndexY   int // èšåˆäº¤æ˜“å†…å­äº¤æ˜“ç´¢å¼•
    IndexZ   int // å­äº¤æ˜“å†… TXOutput ç´¢å¼•
}
```

**ç”¨é€”**: GuarNode æ ¹æ® Position å¿«é€Ÿå®šä½åŒºå—é“¾ä¸Šçš„ TXOutput

---

## åç»­ä¼˜åŒ–å»ºè®®

### 1. ç±»å‹å®‰å…¨
- ä¸º UTXO ç›¸å…³æ¥å£æ·»åŠ æ›´ä¸¥æ ¼çš„ TypeScript ç±»å‹å®šä¹‰
- ç»Ÿä¸€ PublicKeyNew çš„ JSON æ ¼å¼ï¼ˆCurveName, X, Yï¼‰

### 2. é”™è¯¯å¤„ç†
- æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯æç¤ºï¼ˆä¾‹å¦‚æ˜ç¡®æŒ‡å‡ºæ˜¯å“ªä¸ªå­—æ®µä¸åŒ¹é…ï¼‰
- å‰ç«¯æ·»åŠ é‡è¯•æœºåˆ¶ï¼ˆç½‘ç»œå¤±è´¥æ—¶ï¼‰

### 3. æ€§èƒ½ä¼˜åŒ–
- ç¼“å­˜ parseBigIntJson çš„ç»“æœ
- å‡å°‘ä¸å¿…è¦çš„ JSON åºåˆ—åŒ–/ååºåˆ—åŒ–

### 4. æµ‹è¯•è¦†ç›–
- æ·»åŠ å•å…ƒæµ‹è¯•éªŒè¯ UTXO æ•°æ®è½¬æ¢é€»è¾‘
- æ·»åŠ é›†æˆæµ‹è¯•éªŒè¯å®Œæ•´äº¤æ˜“æµç¨‹

---

## æ€»ç»“

ç»è¿‡å¤§åŠå¤©çš„è°ƒè¯•ï¼Œæˆ‘ä»¬æˆåŠŸä¿®å¤äº† **4 ä¸ªå…³é”® Bug**ï¼Œæ¶‰åŠ **6 ä¸ªæ–‡ä»¶ä¿®æ”¹**ï¼Œæœ€ç»ˆå®ç°äº†å‰åç«¯å¿«é€Ÿè½¬è´¦åŠŸèƒ½çš„åˆæ­¥å¯¹æ¥ã€‚

æ ¸å¿ƒä¿®å¤ç‚¹ï¼š
1. âœ… UTXO æ ‡è¯†ç¬¦æ ¼å¼ç»Ÿä¸€
2. âœ… Position æ•°æ®å®Œæ•´ä¼ é€’
3. âœ… å®Œæ•´ UTXO æ•°æ®ä½¿ç”¨
4. âœ… å¤§æ•´æ•°ç²¾åº¦ä¿ç•™

å®Œæ•´çš„äº¤æ˜“éªŒè¯æµç¨‹å·²æ‰“é€šï¼Œä¸ºåç»­åŠŸèƒ½å¼€å‘å¥ å®šäº†åšå®åŸºç¡€ã€‚ğŸ‰
